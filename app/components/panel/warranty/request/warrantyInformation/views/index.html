<main class="warranty-type">
    <div class="row">
        <div class="col-lg-12">
            <form name="companyForm" autocomplete="off" novalidate ng-submit="self.submit(self.company,companyForm)"
                promise-btn>
                <div class="row">
                    <div class="col-lg-6">
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="so-title font-weight-bold">اطلاعات ضمانت نامه درخواستی</div>
                            </div>
                            <div class="col-lg-12">
                                <div class="row">
                                    <div class="col-lg-12">
                                        <sd-input-container class="material text-right">
                                            <label for="">مبلغ ضمانت نامه</label>
                                            <div class="input-group">
                                                <sd-icon>
                                                    <i class="fas s-calendar"></i>
                                                </sd-icon>
                                                <input currency-input class="so-input-xl w-100"
                                                    ng-model="self.company.requestAmount"
                                                    name="RequestAmount" required />
                                                <div ng-messages="companyForm.RequestAmount.$error">
                                                    <div ng-message="required">
                                                        پر کردن فیلد الزامی می‌باشد
                                                    </div>
                                                    <!--<div ng-message="minlength">مبلغ ضمانت نامه نباید کمتر از ده میلیون
                                                        ریال باشد
                                                    </div>
                                                    <div ng-message="maxlength">مبلغ ضمانت نامه نباید بیش از پانصد
                                                        میلیارد ریال
                                                    </div>-->
                                                </div>
                                            </div>
                                        </sd-input-container>
                                    </div>
                                    <div class="col-lg-12">
                                        <sd-input-container class="material text-right">
                                            <label for=""> مدت ضمانت نامه ( روز )</label>
                                            <div class="input-group">
                                                <sd-icon>
                                                    <i class="fas s-calendar"></i>
                                                </sd-icon>
                                                <input class="so-input-xl w-100" type="text" ng-minlength="1"
                                                    ng-maxlength="3" ng-input-filter-number="uint"
                                                    ng-model="self.company.requestPeriod" name="RequestPeriod"
                                                    required />
                                                <div ng-messages="companyForm.RequestPeriod.$error">
                                                    <div ng-message="required">
                                                        پر کردن فیلد الزامی می‌باشد
                                                    </div>
                                                    <div ng-message="minlength">مدت ضمانت نامه نباید کمتر از یک روز باشد
                                                    </div>
                                                    <div ng-message="maxlength">مدت ضمانت نامه باید کمتر از هزار روز
                                                        باشد
                                                    </div>
                                                </div>
                                            </div>
                                        </sd-input-container>
                                    </div>
                                    <div class="col-lg-12" ng-if="self.company.warrantyType == 0">
                                        <sd-input-container class="material text-right">
                                            <label for="">تاریخ مناقصه</label>

                                            <adm-dtp class="w-100" ng-model='self.company.tenderDate'>
                                                <sd-icon>
                                                    <i class="fas s-calendar"></i>
                                                </sd-icon>
                                                <input class="so-input-xl w-100" type='text' name="TenderDate"
                                                    ng-model="self.company.tenderDate" dtp-input required />
                                                <span dtp-destroy>
                                                    <svg class="removeIcon ng-scope" viewBox="0 0 24 24" dtp-destroy
                                                        ng-if="self.company.tenderDate">
                                                        <use xlink:href="#dtp-i-close"></use>
                                                    </svg>
                                                </span>
                                                <div ng-messages="companyForm.TenderDate.$error"
                                                    ng-show="companyForm.TenderDate.$touched">
                                                    <div ng-message="required">
                                                        پر کردن فیلد الزامی می‌باشد
                                                    </div>
                                                </div>
                                            </adm-dtp>
                                        </sd-input-container>
                                        <!-- <sd-input-container class="material text-right">
                                            <label for="">تاریخ ثبت</label>
                                            <adm-dtp class="w-100" ng-model='self.company.tenderDate'>
                                                <sd-icon>
                                                    <i class="fas s-calendar"></i>
                                                </sd-icon>
                                                <input class="so-input-xl w-100" type='text' name="TenderDate"
                                                    ng-model="self.company.tenderDate" dtp-input required />
                                                <span dtp-destroy>
                                                    <svg class="removeIcon ng-scope" viewBox="0 0 24 24" dtp-destroy
                                                        ng-if="self.company.TenderDate">
                                                        <use xlink:href="#dtp-i-close"></use>
                                                    </svg>
                                                </span>
                                                <div ng-messages="companyForm.tenderDate.$error"
                                                 ng-show="companyForm.TenderDate.$touched">
                                                    <div ng-message="required">
                                                        پر کردن فیلد الزامی می‌باشد
                                                    </div>
                                                </div>
                                            </adm-dtp>
                                        </sd-input-container> -->
                                    </div>
                                    <div class="col-lg-12" ng-if="self.company.warrantyType == 0">
                                        <sd-input-container class="material text-right">
                                            <label for="">شماره مناقصه</label>
                                            <div class="input-group">
                                                <sd-icon>
                                                    <i class="fas s-clipboard-list"></i>
                                                </sd-icon>
                                                <input class="so-input-xl w-100" type="text" ng-minlength="2"
                                                    ng-maxlength="70" ng-input-filter-number="uint"
                                                    ng-model="self.company.tenderNumber" name="TenderNumber" />
                                                <div ng-messages="companyForm.TenderNumber.$error">
                                                    <div ng-message="required">
                                                        پر کردن فیلد الزامی می‌باشد 
                                                    </div>
                                                    <div ng-message="minlength">شماره مناقصه نباید کمتر از دو کاراکتر
                                                        باشد
                                                    </div>
                                                    <div ng-message="maxlength">شماره مناقصه نباید بیش از هفتاد کاراکتر
                                                        باشد
                                                    </div>
                                                </div>
                                            </div>
                                        </sd-input-container>
                                    </div>
                                    <div class="col-lg-12" ng-if="self.company.warrantyType == 1">
                                        <sd-input-container class="material text-right">
                                            <label for="">شماره قرارداد</label>
                                            <div class="input-group">
                                                <sd-icon>
                                                    <i class="fas s-clipboard-list"></i>
                                                </sd-icon>
                                                <input class="so-input-xl w-100" type="text" ng-minlength="2"
                                                    ng-maxlength="70" ng-model="self.company.contractNumber"
                                                    name="ContractNumber" required />
                                                <div ng-messages="companyForm.ContractNumber.$error">
                                                    <div ng-message="required">
                                                        پر کردن فیلد الزامی می‌باشد
                                                    </div>
                                                    <div ng-message="minlength">شماره قرارداد نباید کمتر از دو کاراکتر
                                                        باشد
                                                    </div>
                                                    <div ng-message="maxlength">شماره قرارداد نباید بیش از هفتاد کاراکتر
                                                        باشد
                                                    </div>
                                                </div>
                                            </div>
                                        </sd-input-container>
                                    </div>
                                    <div class="col-lg-12" ng-if="self.company.warrantyType == 1">
                                        <sd-input-container class="material text-right">
                                            <label for="">موضوع قرارداد</label>
                                            <div class="input-group">
                                                <sd-icon>
                                                    <i class="fas s-clipboard-list"></i>
                                                </sd-icon>
                                                <input class="so-input-xl w-100" type="text"
                                                    ng-input-filter-alphabet="persian" type="text" ng-minlength="2"
                                                    ng-maxlength="40" ng-model="self.company.contractSubject"
                                                    name="ContractSubject" required />
                                                <div ng-messages="companyForm.ContractSubject.$error">
                                                    <div ng-message="required">
                                                        پر کردن فیلد الزامی می‌باشد
                                                    </div>
                                                    <div ng-message="minlength">موضوع قرارداد نباید کمتر از دو کاراکتر
                                                        باشد
                                                    </div>
                                                    <div ng-message="maxlength">موضوع قرارداد نباید بیش از چهل کاراکتر
                                                        باشد
                                                    </div>
                                                </div>
                                            </div>
                                        </sd-input-container>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 mb-4" ng-if="self.company.warrantyType == 1">
                                <div class="row">
                                    <div class="col-lg-8">
                                        <div class="pt-2">
                                            <div class="so-body-1 mb-1 font-weight-bold">فایل تصویر قرارداد</div>
                                            <div class="so-h5 text-l-gray">
                                                گواهی استقرار می بایست در ابعاد 215 در 215
                                                پیکسل
                                                و دارای نسبت یک به یک یا مربعی بوده و کمتر از 50 کیلوبایت حجم داشته
                                                باشد.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="upload-box text-left">
                                            <div class="before-upload" ng-model="self.company.contractImageAttachment"
                                                ngf-model-options="{updateOn: 'change'}"
                                                ng-if="self.company.contractImageAttachment==null"
                                                ngf-select="self.uploadLogo($files, 'contractImageAttachment')">
                                                <i class="far s-circle-plus s-6x text-white bg-orange p-3 w-100 h-100"></i>
                                            </div>
                                            <div class="after-upload d-flex justify-content-center align-items-center"
                                                id="myList" ng-if="self.company.contractImageAttachment!=null">
                                                <div class="loading-container"
                                                    ng-if="self.loadingShow.contractImageAttachment">
                                                    <div class="loader"></div>
                                                    <div class="loading-text so-h6">منتظر بمانید...</div>
                                                </div>
                                                <!-- <img ngf-thumbnail="self.company.contractImageAttachment"
                                                    ngf-src="self.download + self.company.contractImageAttachment"
                                                    alt=""> -->
                                                <i class="fa s-check s-4x text-white bg-orange p-3 w-100 h-100"></i>
                                                <button ng-model="self.company.contractImageAttachment"
                                                    class="btn edit shadow-none h-100 w-100"
                                                    ngf-select="self.uploadLogo($files, 'contractImageAttachment')">
                                                    <i class="fas s-edit s-2x text-white"></i>
                                                    <div class="loading-text text-white so-h6">بارگزاری مجدد</div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 mb-4" ng-if="self.company.warrantyType == 2">
                                <div class="row">
                                    <div class="col-lg-8">
                                        <div class="pt-2">
                                            <div class="so-body-1 mb-1 font-weight-bold">فایل تصویر قرارداد</div>
                                            <div class="so-h5 text-l-gray">گواهی استقرار می بایست در ابعاد 215 در 215
                                                پیکسل
                                                و دارای نسبت یک به یک یا مربعی بوده و کمتر از 50 کیلوبایت حجم داشته
                                                باشد.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="upload-box text-left">
                                            <div class="before-upload"
                                                ng-model="self.company.fulfillContractImageAttachment"
                                                ngf-model-options="{updateOn: 'change'}"
                                                ng-if="self.company.fulfillContractImageAttachment==null"
                                                ngf-select="self.uploadLogo($files,'fulfillContractImageAttachment')">
                                                <i class="far s-circle-plus s-6x text-white bg-orange p-3 w-100 h-100"></i>
                                            </div>
                                            <div class="after-upload d-flex justify-content-center align-items-center"
                                                id="myList" ng-if="self.company.fulfillContractImageAttachment!=null">
                                                <div class="loading-container"
                                                    ng-if="self.loadingShow.fulfillContractImageAttachment">
                                                    <div class="loader"></div>
                                                    <div class="loading-text so-h6">منتظر بمانید...</div>
                                                </div>
                                                <!-- <img ngf-thumbnail="self.company.fulfillContractImageAttachment"
                                                    ngf-src="self.download + self.company.fulfillContractImageAttachment"
                                                    alt=""> -->
                                                    <i class="fa s-check s-4x text-white bg-orange p-3 w-100 h-100"></i>
                                                <button ng-model="self.company.fulfillContractImageAttachment"
                                                    class="btn edit shadow-none h-100 w-100"
                                                    ngf-select="self.uploadLogo($files,'fulfillContractImageAttachment')">
                                                    <i class="fas s-edit s-2x text-white"></i>
                                                    <div class="loading-text text-white so-h6">بارگزاری مجدد</div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 mb-4" ng-if="self.company.warrantyType == 3">
                                <div class="row">
                                    <div class="col-lg-8">
                                        <div class="pt-2">
                                            <div class="so-body-1 mb-1 font-weight-bold">فایل تصویر قرارداد</div>
                                            <div class="so-h5 text-l-gray">گواهی استقرار می بایست در ابعاد 215 در 215
                                                پیکسل
                                                و دارای نسبت یک به یک یا مربعی بوده و کمتر از 50 کیلوبایت حجم داشته
                                                باشد.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="upload-box text-left">
                                            <div class="before-upload" ng-model="self.company.contractDraftAttachment"
                                                ngf-model-options="{updateOn: 'change'}"
                                                ng-if="self.company.contractDraftAttachment==null"
                                                ngf-select="self.uploadLogo($files, 'contractDraftAttachment')">
                                                <i class="far s-circle-plus s-6x text-white bg-orange p-3 w-100 h-100"></i>
                                            </div>
                                            <div class="after-upload d-flex justify-content-center align-itظems-center"
                                                id="myList" ng-if="self.company.contractDraftAttachment!=null">
                                                <div class="loading-container"
                                                    ng-if="self.loadingShow.contractDraftAttachment">
                                                    <div class="loader"></div>
                                                    <div class="loading-text so-h6">منتظر بمانید...</div>
                                                </div>
                                                <!-- <img ngf-thumbnail="self.company.contractDraftAttachment"
                                                    ngf-src="self.download + self.company.contractDraftAttachment"
                                                    alt=""> -->
                                                    <i class="fa s-check s-4x text-white bg-orange p-3 w-100 h-100"></i>
                                                <button ng-model="self.company.contractDraftAttachment"
                                                    class="btn edit shadow-none h-100 w-100"
                                                    ngf-select="self.uploadLogo($files, 'contractDraftAttachment')">
                                                    <i class="fas s-edit s-2x text-white"></i>
                                                    <div class="loading-text text-white so-h6">بارگزاری مجدد</div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 mb-4" ng-if="self.company.warrantyType == 0">
                                <div class="row">
                                    <div class="col-lg-8">
                                        <div class="pt-2">
                                            <div class="so-body-1 mb-1 font-weight-bold">فایل آگهی مناقصه</div>
                                            <div class="so-h5 text-l-gray">
                                                بارگذاری فایل آگهی مناقضه الزامی می باشد
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="upload-box text-left">
                                            <div class="before-upload" ng-model="self.company.logoFile"
                                                ngf-model-options="{updateOn: 'change'}"
                                                ng-if="self.company.logoFile==null"
                                                ngf-select="self.uploadLogo($files, 'tenderAdvertiseAttachment')">
                                                <i class="far s-circle-plus s-6x text-white bg-orange p-3 w-100 h-100"></i>
                                            </div>
                                            <div class="after-upload d-flex justify-content-center align-items-center"
                                                id="myList" ng-if="self.company.logoFile!=null">
                                                <div class="loading-container"
                                                    ng-if="self.loadingShow.tenderAdvertiseAttachment">
                                                    <div class="loader"></div>
                                                    <div class="loading-text so-h6">منتظر بمانید...</div>
                                                </div>
                                                <!-- <img ngf-thumbnail="self.company.logoFile"
                                                    ngf-src="self.download + self.company.logoFile" alt=""> -->
                                                    <i class="fa s-check s-4x text-white bg-orange p-3 w-100 h-100"></i>
                                                <button ng-model="self.company.logoFile"
                                                    class="btn edit shadow-none h-100 w-100"
                                                    ngf-select="self.uploadLogo($files, 'tenderAdvertiseAttachment')">
                                                    <i class="fas s-edit s-2x text-white"></i>
                                                    <div class="loading-text text-white so-h6">بارگزاری مجدد</div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-12 mb-4" ng-if="self.company.warrantyType == 3">
                                <div class="row">
                                    <div class="col-lg-8">
                                        <div class="pt-2">
                                            <div class="so-body-1 mb-1 font-weight-bold">فایل تصویر تاییدیه بانک</div>
                                            <div class="so-h5 text-l-gray">گواهی استقرار می بایست در ابعاد 215 در 215
                                                پیکسل
                                                و دارای نسبت یک به یک یا مربعی بوده و کمتر از 50 کیلوبایت حجم داشته
                                                باشد.
                                            </div>
                                        </div>
                                    </div>
                                    <div class="col-lg-4">
                                        <div class="upload-box text-left">
                                            <div class="before-upload" ng-model="self.company.logoFilecr"
                                                ngf-model-options="{updateOn: 'change'}"
                                                ng-if="self.company.logoFilecr==null"
                                                ngf-select="self.uploadLogo($files, 'bankConfirmationAttachment')">
                                                <i class="far s-circle-plus s-6x text-white bg-orange p-3"></i>
                                            </div>
                                            <div class="after-upload d-flex justify-content-center align-items-center"
                                                id="myList" ng-if="self.company.logoFilecr!=null">
                                                <div class="loading-container"
                                                    ng-if="self.loadingShow.bankConfirmationAttachment">
                                                    <div class="loader"></div>
                                                    <div class="loading-text so-h6">منتظر بمانید...</div>
                                                </div>
                                                <!-- <img ngf-thumbnail="self.company.logoFilecr"
                                                    ngf-src="self.download + self.company.logoFilecr" alt=""> -->
                                                    <i class="fa s-check s-4x text-white bg-orange p-3 w-100 h-100"></i>
                                                <button ng-model="self.company.logoFilecr"
                                                    class="btn edit shadow-none h-100 w-100"
                                                    ngf-select="self.uploadLogo($files, 'bankConfirmationAttachment')">
                                                    <i class="fas s-edit s-2x text-white"></i>
                                                    <div class="loading-text text-white so-h6">بارگزاری مجدد</div>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row mt-5 mb-3">
                    <div class="col-lg-12">
                        <div class="so-title font-weight-bold">اطلاعات کارفرما</div>
                    </div>
                    <div class="col-lg-12">
                        <div class="row">
                            <div class="col-lg-6">
                                <sd-input-container class="material text-right"
                                    sd-is-error="!self.selectedEmployerStatus && selectForm.EmployerName.$dirty">
                                    <label for="">نام کارفرما</label>
                                    <div class="input-group">
                                        <sd-icon>
                                            <i class="fas s-clipboard-list"></i>
                                        </sd-icon>
                                        <input class="so-input-xl w-100" ng-input-filter-alphabet="persian" type="text"
                                            ng-change="self.employerListHandler(self.company.employerName)"
                                            ng-minlength="2" ng-maxlength="300" ng-model="self.company.employerName"
                                            ng-model-options="{debounce:300}" name="EmployerName" required
                                            list="EmployerNames" />
                                        <datalist id="EmployerNames">
                                            <option ng-repeat="names in self.employersList" value='{{names.name}}'>
                                        </datalist>
                                        <div ng-messages="companyForm.EmployerName.$error">
                                            <div ng-message="required">
                                                پر کردن فیلد الزامی می‌باشد
                                            </div>
                                            <div ng-message="minlength">نام کارفرما نباید کمتر از دو کاراکتر باشد</div>
                                            <div ng-message="maxlength">نام کارفرما نباید بیش از سیصد کاراکتر باشد</div>
                                            <div ng-message="inputFilterAlphabet">
                                                نام شرکت باید فارسی باشد
                                            </div>
                                        </div>
                                    </div>
                                </sd-input-container>
                            </div>
                            <div class="col-lg-6"></div>
                            <div class="col-lg-6">
                                <sd-input-container class="material text-right">
                                    <label for="">شماره تلفن</label>
                                    <div class="input-group">
                                        <sd-icon>
                                            <i class="fas s-phone"></i>
                                        </sd-icon>
                                        <input class="so-input-xl w-100" type="text" ng-minlength="3" ng-maxlength="100"
                                            ng-input-filter-number="uint" ng-model="self.company.employerPhone"
                                            name="EmployerPhone" required />
                                        <div ng-messages="companyForm.EmployerPhone.$error">
                                            <div ng-message="required">
                                                پر کردن فیلد الزامی می‌باشد
                                            </div>
                                            <div ng-message="minlength">شماره تلفن نباید کمتر از سه کاراکتر باشد</div>
                                            <div ng-message="maxlength">شماره تلفن نباید بیش از صد کاراکتر باشد</div>
                                        </div>
                                    </div>
                                </sd-input-container>
                            </div>
                            <div class="col-lg-6">
                                <sd-input-container class="material text-right">
                                    <label for="">شماره فکس</label>
                                    <div class="input-group">
                                        <sd-icon>
                                            <i class="fas s-clipboard-list"></i>
                                        </sd-icon>
                                        <input class="so-input-xl w-100" type="text" ng-minlength="3" ng-maxlength="100"
                                            ng-input-filter-number="uint" ng-model="self.company.employerFax"
                                            name="EmployerFax" required />
                                        <div ng-messages="companyForm.EmployerFax.$error">
                                            <div ng-message="required">
                                                پر کردن فیلد الزامی می‌باشد
                                            </div>
                                            <div ng-message="minlength">شماره فکس نباید کمتر از سه کاراکتر باشد</div>
                                            <div ng-message="maxlength">شماره فکس نباید بیش از صد کاراکتر باشد</div>
                                        </div>
                                    </div>
                                </sd-input-container>
                            </div>
                            <div class="col-lg-12">
                                <sd-input-container class="material text-right">
                                    <label for="">آدرس</label>
                                    <div class="input-group">
                                        <sd-icon>
                                            <i class="fas s-home"></i>
                                        </sd-icon>
                                        <input class="so-input-xl w-100" type="text" ng-minlength="2" ng-maxlength="120"
                                            ng-model="self.company.employerAddress" name="EmployerAddress" required />
                                        <div ng-messages="companyForm.EmployerAddress.$error">
                                            <div ng-message="required">
                                                پر کردن فیلد الزامی می‌باشد
                                            </div>
                                            <div ng-message="minlength"> آدرس نباید کمتر از دو کاراکتر باشد</div>
                                            <div ng-message="maxlength"> آدرس نباید بیش از صدو بیست کاراکتر باشد</div>
                                        </div>
                                    </div>
                                </sd-input-container>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-lg-12">
                        <button type="submit" class="btn btn-green so-btn-md">
                            ثبت
                        </button>
                        <button class="btn btn-orange so-btn-md text-white" type="button"
                            ui-sref="panel.warranty.request.uploadDocuments">
                            بازگشت
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</main>